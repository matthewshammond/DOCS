<div class="modal fade" id="foreflightModal" tabindex="-1" role="dialog" aria-labelledby="foreflightModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="foreflightModalLabel">ForeFlight Export</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <!-- Programs Column -->
                    <div class="col-md-6">
                        <h6>Hospital Programs</h6>
                        <div class="form-group">
                            {% for program in programs %}
                            <div class="form-check">
                                <input class="form-check-input program-checkbox" type="checkbox" 
                                       value="{{ program.program_code }}" 
                                       id="program_{{ program.id }}"
                                       data-program-name="{{ program.program_name }}">
                                <label class="form-check-label" for="program_{{ program.id }}">
                                    {{ program.program_name }} ({{ program.program_code }})
                                </label>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                    
                    <!-- States Column -->
                    <div class="col-md-6">
                        <h6>States</h6>
                        <div class="form-group">
                            {% for state in states %}
                            <div class="form-check">
                                <input class="form-check-input state-checkbox" type="checkbox" 
                                       value="{{ state }}" 
                                       id="state_{{ forloop.counter }}">
                                <label class="form-check-label" for="state_{{ forloop.counter }}">
                                    {{ state }}
                                </label>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Download Options -->
                <div class="mt-4">
                    <h6>Download Options</h6>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="downloadOption" id="individualDownload" value="individual" checked>
                        <label class="form-check-label" for="individualDownload">
                            Download Files Individually
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="downloadOption" id="contentPackDownload" value="contentPack">
                        <label class="form-check-label" for="contentPackDownload">
                            Download as Content Pack
                        </label>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="foreflightExportButton">Export</button>
            </div>
            <div id="foreflight-export-message" class="mx-3"></div>
        </div>
    </div>
</div> 